<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>LLMR Response Object — llmr_response • LLMR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="LLMR Response Object — llmr_response"><meta name="description" content="A lightweight S3 container for generative model calls. It standardizes
finish reasons and token usage across providers and keeps the raw response
for advanced users.
Returns the standardized finish reason for an llmr_response.
Returns a list with token counts for an llmr_response.
Convenience check for truncation due to token limits."><meta property="og:description" content="A lightweight S3 container for generative model calls. It standardizes
finish reasons and token usage across providers and keeps the raw response
for advanced users.
Returns the standardized finish reason for an llmr_response.
Returns a list with token counts for an llmr_response.
Convenience check for truncation due to token limits."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">LLMR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/asanaei/LLMR"><span class="fa fab fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>LLMR Response Object</h1>
      <small class="dont-index">Source: <a href="https://github.com/asanaei/LLMR/blob/main/R/LLMR_response.R" class="external-link"><code>R/LLMR_response.R</code></a></small>
      <div class="d-none name"><code>llmr_response.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A lightweight S3 container for <strong>generative</strong> model calls. It standardizes
finish reasons and token usage across providers and keeps the raw response
for advanced users.</p>
<p>Returns the standardized finish reason for an <code>llmr_response</code>.</p>
<p>Returns a list with token counts for an <code>llmr_response</code>.</p>
<p>Convenience check for truncation due to token limits.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">finish_reason</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tokens</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_truncated</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'llmr_response'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'llmr_response'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An <code>llmr_response</code> object.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A length-1 character vector or <code>NA_character_</code>.</p>
<p>A list <code>list(sent, rec, total, reasoning)</code>. Missing values are <code>NA</code>.</p>
<p><code>TRUE</code> if truncated, otherwise <code>FALSE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="fields">Fields<a class="anchor" aria-label="anchor" href="#fields"></a></h3>

<ul><li><p><code>text</code>: character scalar. Assistant reply.</p></li>
<li><p><code>provider</code>: character. Provider id (e.g., <code>"openai"</code>, <code>"gemini"</code>).</p></li>
<li><p><code>model</code>: character. Model id.</p></li>
<li><p><code>finish_reason</code>: one of <code>"stop"</code>, <code>"length"</code>, <code>"filter"</code>, <code>"tool"</code>, <code>"other"</code>.</p></li>
<li><p><code>usage</code>: list with integers <code>sent</code>, <code>rec</code>, <code>total</code>, <code>reasoning</code> (if available).</p></li>
<li><p><code>response_id</code>: provider’s response identifier if present.</p></li>
<li><p><code>duration_s</code>: numeric seconds from request to parse.</p></li>
<li><p><code>raw</code>: parsed provider JSON (list).</p></li>
<li><p><code>raw_json</code>: raw JSON string.</p></li>
</ul></div>

<div class="section">
<h3 id="printing">Printing<a class="anchor" aria-label="anchor" href="#printing"></a></h3>


<p><code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> shows the text, then a compact status line with model, finish reason,
token counts, and a terse hint if truncated or filtered.</p>
</div>

<div class="section">
<h3 id="coercion">Coercion<a class="anchor" aria-label="anchor" href="#coercion"></a></h3>


<p><code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character()</a></code> extracts <code>text</code> so the object remains drop-in for code that
expects a character return.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>


<p><code><a href="call_llm.html">call_llm()</a></code>, <code><a href="call_llm_robust.html">call_llm_robust()</a></code>, <code><a href="llm_chat_session.html">llm_chat_session()</a></code>,
<code><a href="llm_config.html">llm_config()</a></code>, <code><a href="llm_mutate.html">llm_mutate()</a></code>, <code><a href="llm_fn.html">llm_fn()</a></code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># Minimal fabricated example (no network):</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="st">"Hello!"</span>,</span>
<span>    provider <span class="op">=</span> <span class="st">"openai"</span>,</span>
<span>    model <span class="op">=</span> <span class="st">"demo"</span>,</span>
<span>    finish_reason <span class="op">=</span> <span class="st">"stop"</span>,</span>
<span>    usage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sent <span class="op">=</span> <span class="fl">12L</span>, rec <span class="op">=</span> <span class="fl">5L</span>, total <span class="op">=</span> <span class="fl">17L</span>, reasoning <span class="op">=</span> <span class="cn">NA_integer_</span><span class="op">)</span>,</span>
<span>    response_id <span class="op">=</span> <span class="st">"resp_123"</span>,</span>
<span>    duration_s <span class="op">=</span> <span class="fl">0.012</span>,</span>
<span>    raw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>message <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>content <span class="op">=</span> <span class="st">"Hello!"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    raw_json <span class="op">=</span> <span class="st">"{}"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"llmr_response"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span><span class="fu">finish_reason</span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span><span class="fu">tokens</span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span>
<span><span class="va">fr</span> <span class="op">&lt;-</span> <span class="fu">finish_reason</span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="co"># }</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span>
<span><span class="va">u</span> <span class="op">&lt;-</span> <span class="fu">tokens</span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span><span class="va">u</span><span class="op">$</span><span class="va">total</span></span>
<span><span class="op">}</span> <span class="co"># }</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu">is_truncated</span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Increase max_tokens"</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="co"># }</span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ali Sanaei.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

